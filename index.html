<!doctype html>
<html class="no-js" lang="">
  <head>
    <meta charset=utf-8>
    <meta name=viewport content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Tryout</title>
    <link rel=stylesheet href="fullPage/jquery.fullPage.css">
    <link rel=stylesheet href="tryout.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script type="text/javascript" src="fullPage/jquery.fullPage.js"></script>
  </head>
  <body>
    <div class="hash-slider">
      <div class="curtain">
        #
        <div class="text-placeholder"></div>
      </div>
      <div id="fullpage">
        <div class="section section0" data-rel="#ff7900" data-class="left-align">
          <div id="large-header" class="large-header">
            <canvas id="canvas-circle"></canvas>
              <div class="section-container">
                  <div class="section-box">
                    <div class="section-info">
                          <figure class="logo animate" data-animate="fadeInDownBig">
                          <img src="images/logo.png" alt="Innoraft Solutions">
                      </figure><!--/.logo-->
                          <div class="title-container-box">
                              <div class="title-box">
                                  <h1 class="animate" data-animate="fadeInLeftBig"><span>Years of</span>5</h1>
                                  <div class="title-box">
                                      <div class="title-right">
                                          <span class="left-subtitle animate" data-animate="fadeInDownBig">Celbrating</span>
                                          <div class="animate" data-animate="fadeInRightBig">Growth</div>
                                          <span class="right-subtitle animate" data-animate="fadeInDownBig">&amp; Success</span>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div><!--/.section-info-->
                  </div><!--/.section-box-->
              </div><!--/.section-container-->
            </div>
        </div>
        <div class="section section1 hash-point" data-rel="#003352" data-class="right-align">
          <div class="wrapper">
            <div class="left-container">&nbsp;</div>
            <div class="right-container">
              <div class="text-container">
                <div class="section-box">
                  <div class="section-info">
                    <div class="title-container-box">
                      <div class="year animate" data-animate="fadeInLeftBig">1</div>
                        <div class="title-box">
                          <div class="title-right xs-size">
                            <span class="left-subtitle animate" data-animate="fadeInDownBig">Beiginig Of</span>
                            <div class="animate" data-animate="fadeInRightBig">Organization</div>
                          </div>
                        </div>
                      </div>
                    <div class="text-content animate" data-animate="fadeInRightBig">
                      <p>Vivamus eget eros tristique, eleifend turpis ac, fringilla urna. Mauris congue lectus eu sapien ornare, quis fringilla neque hendrerit. Vivamus gravida, quam viverra tempus ultrices, sapien tortor iaculis orci, non faucibus purus elit vitae neque. Nunc ac iaculis risus. Cras placerat magna tempor leo porttitor ultrices. Quisque nisi nulla, ultrices at ex vitae, gravida ornare arcu. Pellentesque tincidunt lobortis tempus. Nulla sit amet fermentum libero, vel commodo magna. Fusce auctor interdum est. Donec non suscipit lorem. Nunc quis tellus tortor. Aliquam fermentum elementum justo, vitae scelerisque lacus fringilla eget. Sed a placerat quam. Aliquam sollicitudin quam libero, sit amet luctus diam dignissim a.</p>
                    </div>
                  </div><!--/.section-info-->
                </div><!--/.section-box-->
              </div><!--/.text-container-->
            </div>
          </div>
        </div>
        <div class="section section2 hash-point" data-rel="#ff7900" data-class="left-align">
          <div class="wrapper">
            <div class="left-container">
              <div class="text-container">
                <div class="section-box">
                  <div class="section-info">
                    <div class="title-container-box">
                      <div class="title-box">
                        <div class="year animate" data-animate="fadeInLeftBig">2</div>
                        <div class="title-right">
                          <span class="left-subtitle animate" data-animate="fadeInDownBig">About</span>
                          <div class="animate" data-animate="fadeInRightBig">Our Team</div>
                        </div>
                      </div>
                    </div>
                  </div><!--/.section-info-->
                </div><!--/.section-box-->
              </div><!--/.text-container-->
            </div>
            <div class="right-container">&nbsp;</div>
          </div>
        </div>
        <div class="section section3 hash-point" data-rel="#ff7900" data-class="left-align">
          <div class="wrapper">
            <div class="left-container">&nbsp;</div>
              <div class="right-container">
                <div class="text-container">
                  <div class="section-box">
                    <div class="section-info">
                      <div class="title-container-box">
                        <div class="title-box">
                          <div class="year animate" data-animate="fadeInLeftBig">2</div>
                          <div class="title-right">
                            <span class="left-subtitle animate" data-animate="fadeInDownBig">About</span>
                          <div class="animate" data-animate="fadeInRightBig">Our Team</div>
                          </div>
                        </div>
                      </div>
                    </div><!--/.section-info-->
                  </div><!--/.section-box-->
                </div><!--/.text-container-->
              </div>
          </div>
        </div>
        <div class="section section4 hash-point" data-rel="#ff7900" data-class="left-align">
          <div class="wrapper">
            <div class="left-container">
              <div class="text-container">
                <div class="section-box">
                  <div class="section-info">
                    <div class="title-container-box">
                      <div class="title-box">
                        <div class="year animate" data-animate="fadeInLeftBig">2</div>
                        <div class="title-right">
                          <span class="left-subtitle animate" data-animate="fadeInDownBig">About</span>
                          <div class="animate" data-animate="fadeInRightBig">Our Team</div>
                        </div>
                      </div>
                    </div>
                  </div><!--/.section-info-->
                </div><!--/.section-box-->
              </div><!--/.text-container-->
            </div>
            <div class="right-container">&nbsp;</div>
          </div>
        </div>
        <div class="section section5 hash-point" data-rel="#ff7900" data-class="left-align">
          <div class="wrapper">
            <div class="left-container">
              <div class="text-container">
                <div class="section-box">
                  <div class="section-info">
                    <div class="title-container-box">
                      <div class="title-box">
                        <div class="year animate" data-animate="fadeInLeftBig">2</div>
                        <div class="title-right">
                          <span class="left-subtitle animate" data-animate="fadeInDownBig">About</span>
                          <div class="animate" data-animate="fadeInRightBig">Our Team</div>
                        </div>
                      </div>
                    </div>
                  </div><!--/.section-info-->
                </div><!--/.section-box-->
              </div><!--/.text-container-->
            </div>
            <div class="right-container">&nbsp;</div>
          </div>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      $(document).ready(function() {
        $('#fullpage').fullpage({
        // Events.
          onLeave: function(index, nextIndex, direction){

            if (curtain_visibility(index, direction)) {
              $('.curtain').removeClass('open');
              $('.curtain').addClass('full');
              // $('.curtain').fadeIn('slow');
            }
            else {
              $('.curtain').addClass('full');
              $('.curtain').addClass('open');
              // $('.curtain').fadeOut('slow');
            }
            $('.text-placeholder').fadeOut('slow');
          },
          afterLoad: function(anchorLink, index){
            console.log($('.section').eq(index-1));
            setTimeout(function() {
              $('.curtain').removeClass('full');
              $('.curtain').toggleClass('white');
              $('.curtain').toggleClass('black');
              text = $('.section').eq(index-1).find('.text-container').html();
              $('.text-placeholder').html(text);
              $('.text-placeholder').fadeIn('slow');
            },300);
            setTimeout(function(){
              $('.text-placeholder').each(function() {
              var $this = $(this);
                $this.find('.animate').each(function(i) {
                  var $item = $(this);
                  var animation = $item.data("animate");
                  setTimeout( function () {
                    $item.addClass('animated '+animation).removeClass('animate');
                  }, i*100 );
                });
              });
            }, 500);
          },
          afterRender: function(index){
            setTimeout(function() {
              $('.curtain').addClass('open');
              $('.curtain').addClass('white');
              $('.curtain').removeClass('black');
            },300);
          },
          afterResize: function(){},
        });

        function curtain_visibility(index, direction) {
          if (direction == 'down') {
            if ($('.section').eq(index).hasClass('hash-point')) {
              console.log('next slide down is hash');
              // $('.curtain').fadeIn('slow');
              return true;
            }
            else {
              // $('.curtain').fadeOut('slow');
              console.log('next slide down is normal');
              return false;
            }
          }
          else {
            if ($('.section').eq(index-2).hasClass('hash-point')) {
              // $('.curtain').fadeIn('slow');
              console.log('next slide up is hash');
              return true;
            }
            else {
              // $('.curtain').fadeOut('slow');
              console.log('next slide up is normal');
              return false;
            }
          }
        }
      });
    </script>
  </body>
</html>
